# 水流配置说明

为了形象地描述多管道的水流状态，可以对管道进行水流的配置，这样当系统运行时，管道可以形象地展现出水流的方向。

1、    进入水流配置  
打开需要进行水流配置的项目，在项目界面双击管道图元，即可弹出水流配置界面，如下图：

![](/assets/水流配置.png)

2、    水流配置界面具体说明如下：

绑定点位：用来绑定该管道水流对的触发条件，可以绑定一个或者多个点位；

流向：用来设定管道的流向，正向：水流为起点到终点，反向：水流为终点到起点。（在画管道时，起始第一笔为起点，完成时的点为终点）；

逻辑关系：无（注：后续版本应该无该选项，默认肯定有一个逻辑关系）；或（默认逻辑关系，绑定点中只要有一个值为1即有水流）；与（绑定点位全部为1时才有水流）

水流类型：水流类型可实现水的流动点颜色不一样，具体对比如下表

![](/assets/水流颜色对比图.png)

水流密度：用来设定管道上水流点密度，具体效果参见下表

![](/assets/水流密度对比图.png)

水流速度：用来设定管道上水流点移动速度点，分为慢、中、快三个界别。

3、水流配置实例

a 常规水流动画配置  
1\)选中管路，弹出配置选项框

![](/assets/常规水流配置选项框.png)

2\)假如一个管道的水流状态判断依据 6\#、7\#、8\#水泵只要有一个泵打开，就流动。那么配置步骤如下:  
    首先，在水流定义的绑定点位一栏，点击“选择”按钮，在如下的弹出选点框中,可以在编辑框内查找点名,选中点名一行后,确定就可以添加到列表中，加入CWPOnOff06，CWPOnOff07，CWPOnOff08;

![](/assets/常规水流配置点位绑定2.png)

   其次,在逻辑关系中选为“或”,并定义水流动画的速度、效果等选项。

![](/assets/常规管道水流配置管道信息.png)  
b 高级水流动画配置  
常规水流动画配置基本上可以满足大部分项目要求，但是对于一些特殊管道就不能满足要求，需要这样配置：  
1）    新建一个软点给该管道使用（例如PipeFlowDefine01 ）；  
2）    进入该管道水流点配置页面，绑定PipeFlowDefine01，其它选项按照常规水流动画配置；  
3）    进入策略配置，配置一个或者多个策略，将策略计算出来的结果付给PipeFlowDefine01变量，来实现水流点动画逻辑。变量值为0时没有水流，变量值为1时正向水流，变量值为－1时反向水流。

